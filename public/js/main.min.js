function checkForm(e){if(""==$("#fio").value)return $("err_fio").innerHTML="Введите имя",!1;if(""==$("#phone").value||""==$("#email").value)return $("err_contact").innerHTML="Введите email или телефон",!1;var r=$("#form").serialize();return $.ajax({type:"POST",url:"form-request",data:r,success:function(e){$("#form").hide(),$("#form-results").html(e)},error:function(e,r){alert("Возникла ошибка: "+e.responseCode)}}),!0}
$(document).ready(function(){var t=$("#menu"),a=$(".js-header-block");$(window).height();$(window).scroll(function(){var e=a.height();$(this).scrollTop()>e&&t.hasClass("relative")?t.removeClass("relative").addClass("fixed"):$(this).scrollTop()<=e&&t.hasClass("fixed")&&t.removeClass("fixed").addClass("relative")}),$('a[href^="#"].soft').click(function(){var t=$(this).attr("href");return $("body").animate({scrollTop:$(t).offset().top},2e3),!1}),$("#price td i").addClass("glyphicon glyphicon-ok"),$('article[data-type="background"]').each(function(){var t=$(this);$(window).scroll(function(){var a=-($(window).scrollTop()/t.data("speed")),e="center "+a+"px";t.css({backgroundPosition:e})})}),$("input#inputName, input#inputEmail, textarea#inputQuestion").unbind().blur(function(){var t=$(this).attr("id"),a=$(this).val(),e='<i class="glyphicon glyphicon-ok"></i>';switch(t){case"inputName":var r=/^[a-zA-Zа-яА-Я]+$/;a.length>2&&""!=a&&r.test(a)?(console.log("true",$(this).next(".error-box")),$(this).addClass("not_error"),$(this).next(".error-box").html(e).addClass("right").css("color","green").css("margin","-26px 10px 0 0").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400)):($(this).removeClass("not_error").addClass("error"),$(this).next(".error-box").html('поле "Имя" обязательно для заполнения,<br> длина имени должна составлять не менее 2 символов,<br> поле должно содержать только русские или латинские буквы').css("color","red").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400));break;case"inputEmail":var s=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;""!=a&&s.test(a)?($(this).addClass("not_error"),$(this).next(".error-box").html(e).css("color","green").addClass("right").css("margin","-26px 10px 0 0").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400)):($(this).removeClass("not_error").addClass("error"),$(this).next(".error-box").html('поле "Email" обязательно для заполнения,<br> поле должно содержать правильный email-адрес<br>').css("color","red").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400));break;case"inputQuestion":""!=a&&a.length<5e3?($(this).addClass("not_error"),$(this).next(".error-box").html(e).css("color","green").addClass("right").css("margin","-26px 10px 0 0").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400)):($(this).removeClass("not_error").addClass("error"),$(this).next(".error-box").html('поле "Текст письма" обязательно для заполнения').css("color","red").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400))}}),$("form#js-form-contact").submit(function(t){return t.preventDefault(),3!=$(".not_error").length?($("form#js-form-contact h3").html("Проверьте, пожалуйста, заполнение формы").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400),!1):void $.ajax({url:"/form-request",type:"post",data:$(this).serialize(),success:function(t){console.log($(this)),$("form#js-form-contact").hide(),$("form#js-form-contact").next().html("Ваше сообщение отправлено").animate({paddingLeft:"10px"},400).animate({paddingLeft:"5px"},400)}})})});
function initMap(){function e(){null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(google.maps.Animation.BOUNCE)}var t=[{featureType:"all",elementType:"geometry",stylers:[{color:"#4e6890"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{gamma:.01},{lightness:20}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{saturation:-31},{lightness:-33},{weight:2},{gamma:.8}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:30},{saturation:30}]},{featureType:"poi",elementType:"geometry",stylers:[{saturation:20}]},{featureType:"poi.park",elementType:"geometry",stylers:[{lightness:20},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:10},{saturation:-30}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:25},{lightness:25}]},{featureType:"water",elementType:"all",stylers:[{lightness:-20}]}],l={lat:59.967061,lng:30.2471994},a=new google.maps.Map(document.getElementById("footerMap"),{center:l,scrollwheel:!1,styles:t,zoom:15}),s="/images/logo-map.png",n=new google.maps.Marker({position:l,map:a,icon:s,title:"NUMIDAL",animation:google.maps.Animation.DROP});n.addListener("click",e)}